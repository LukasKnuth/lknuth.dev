<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/iAWriterQuattro/iAWriterQuattroS-Bold.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/iAWriterQuattro/iAWriterQuattroS-BoldItalic.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/iAWriterQuattro/iAWriterQuattroS-Italic.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/iAWriterQuattro/iAWriterQuattroS-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Three Levels of Git Aliases | Lukas Knuth // Developer</title><link rel=canonical href=https://lknuth.dev/writings/three_levels_git_alias/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Three Levels of Git Aliases"><meta property="og:description" content="Chapter 2.7 of the Git Book is called &ldquo;Git Aliases&rdquo;. Tucked away in it is probably the most powerful built-in feature to customize git to your own liking.
Aliases allow you to define a shorthand for a git sub-command - including its options - that you commonly type in your workflow. We&rsquo;ll illustrate three increasingly powerful levels of customization enabled by aliases using a simple example:
I want to open all modified files in my worktree with my editor."><meta property="og:type" content="article"><meta property="og:url" content="https://lknuth.dev/writings/three_levels_git_alias/"><meta property="article:section" content="writings"><meta property="article:published_time" content="2024-11-29T17:08:30+01:00"><meta property="article:modified_time" content="2024-11-29T17:08:30+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Three Levels of Git Aliases"><meta name=twitter:description content="Chapter 2.7 of the Git Book is called &ldquo;Git Aliases&rdquo;. Tucked away in it is probably the most powerful built-in feature to customize git to your own liking.
Aliases allow you to define a shorthand for a git sub-command - including its options - that you commonly type in your workflow. We&rsquo;ll illustrate three increasingly powerful levels of customization enabled by aliases using a simple example:
I want to open all modified files in my worktree with my editor."><link rel=stylesheet href=https://lknuth.dev/css/styles.b80ba81354db091030af4b414bd9c1e0d6f77eb68cfa9470c580bd78bb96e7ae8b9ab256585ee48b3450eb59ff26dea067f26ae15be318c24227a3ea1145bf99.css integrity="sha512-uAuoE1TbCRAwr0tBS9nB4Nb3fraM+pRwxYC9eLuW566LmrJWWF7kizRQ61n/Jt6gZ/Jq4VvjGMJCJ6PqEUW/mQ=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://lknuth.dev/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><header id=header><a href=https://lknuth.dev/><div id=logo style=background-image:url(https://lknuth.dev/images/logo.png)></div><div id=title><h1>Lukas Knuth // Developer</h1></div></a><div id=nav><ul><li class=icon><a href=# aria-label=Menu><i class="fas fa-bars fa-2x" aria-hidden=true></i></a></li><li><a href=/writings>Writings</a></li><li><a href=/about>About</a></li><li><a href=/cv>CV</a></li><li><a href=/imprint>Imprint</a></li></ul></div></header><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Three Levels of Git Aliases</h1><div class=meta><div class=postdate><time datetime="2024-11-29 17:08:30 +0100 +0100" itemprop=datePublished>2024-11-29</time></div></div></header><div class=content itemprop=articleBody><p><a href=https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases>Chapter 2.7 of the Git Book</a> is called &ldquo;Git Aliases&rdquo;. Tucked away in it is probably the most powerful built-in feature to customize git to your own liking.</p><p>Aliases allow you to define a shorthand for a git sub-command - including its options - that you commonly type in your workflow.
We&rsquo;ll illustrate three increasingly powerful levels of customization enabled by aliases using a simple example:</p><p>I want to open all modified files in my worktree with my editor.
To do this, we&rsquo;ll return a newline separated list of modified file paths from git and pipe it into <a href=https://www.man7.org/linux/man-pages/man1/xargs.1.html>xargs</a> to open all of them with <a href=https://helix-editor.com/>Helix</a>: <code>git sx | xargs hx</code></p><p>To create the alias, you can use <code>git config --global alias</code>.
Alternatively, edit the <code>[alias]</code> section of the <code>.gitconfig</code> file in your home directory with any text editor.</p><h2 id=level-1>Level 1</h2><p>A simple alias that saves us from typing a full git sub-command, including its options:</p><div class=highlight><pre tabindex=0 style=color:#fe640b;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#7287fd>sx</span> <span style=color:#04a5e5>=</span> <span style=color:#40a02b>&#34;status --porcelain&#34;</span>
</span></span></code></pre></div><p>We can now type <code>git sx</code>, which is equivalent to typing <code>git status --porcelain</code>.
It&rsquo;s the simplest type of alias, but it already saves us from typing and remembering a bit of stuff.
Note that we can still add any additional options we like.
For example, <code>git sx --staged</code> is equivalent to <code>git status --porcelain --staged</code>.</p><p>The <code>--porcelain</code> option gets rid of the coloring and is generally meant to make the output of the command more usable for scripting.
If we pipe the output into helix now, it will open more than just the modified files.
This is because each line starts with four characters indicating the mode of the file - whether it was added, modified, removed, etc.</p><h2 id=level-2>Level 2</h2><p>If we place an exclamation mark (or &ldquo;bang&rdquo; in bash-speak) at the beginning of the alias line, the given command is executed in a shell.
We can use this to launch any executable (including <code>git</code> itself) and further process the output.</p><div class=highlight><pre tabindex=0 style=color:#fe640b;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#7287fd>sx</span> <span style=color:#04a5e5>=</span> <span style=color:#40a02b>&#34;!git status --porcelain | cut -c4-&#34;</span>
</span></span></code></pre></div><p>The Unix <a href=https://man7.org/linux/man-pages/man1/cut.1.html>cut</a> utility takes a newline separated input and removes characters from each line.
We instruct it to remove the first <code>4</code> characters and to read the input from <code>stdin</code>.
We then pipe the <code>git status</code> output into it, removing the four characters indicating the file mode.</p><p>It&rsquo;s important to note that whatever directory <em>within</em> the git repository we run the bang-alias from, the shell command will always have the repositories root folder set as it&rsquo;s working directory!</p><p>If we run <code>git sx | xargs hx</code> now, it opens all files that are currently modified in our working tree.
Nice, but I also want to filter the output by directory, the way that <code>git status src/</code> would return only modified files <em>inside</em> the <code>src/</code> folder.</p><h2 id=level-3>Level 3</h2><p>If we add the folder to filter by at the end of our command like <code>git sx src/</code>, we&rsquo;ll get an error from <code>cut: src: no such file or directory</code>.
This is because what we&rsquo;re running is <code>git status --porcelain | cut -c4- src/</code>.
What we actually want is to pass the folder option to the <code>git status</code> part, before <code>cut</code> is even run.</p><p>Luckily, a bang-alias is basically a shell script.
So we can write shell functions:</p><div class=highlight><pre tabindex=0 style=color:#fe640b;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#7287fd>sx</span> <span style=color:#04a5e5>=</span> <span style=color:#40a02b>&#34;!f() { git status --porcelain </span><span style=color:#7287fd>$1</span><span style=color:#40a02b> | cut -c4-; }; f&#34;</span>
</span></span></code></pre></div><p>This declares a shell function <code>f</code> and then executes it immediately.
Any options added when invoking the alias (like the folder to filter by) are captured by the function and are available using the dollar notation.
The first option is available under <code>$1</code>, the second under <code>$2</code> and so on.
To get all of them at once, we can use <code>$@</code>.</p><p>Using this, we can put the folder option to filter by folder where it belongs.
The final result works as expected:</p><div class=highlight><pre tabindex=0 style=color:#fe640b;background-color:#eff1f5;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>git sx src/ <span style=color:#4c4f69>|</span> xargs hx
</span></span></code></pre></div><p>This will open any modified file from the <code>src/</code> folder in Helix.</p><h2 id=more-aliases>More aliases</h2><p>Over the past months I have accumulated many git aliases to shorten what I have to type.
I have also aliased <code>git</code> to just <code>g</code> to make it even shorter.</p><p>I find what works great for choosing aliases is shortening the original command name to a single character and adding additional characters for more specific variations:</p><ul><li><code>git di</code> is <code>git diff</code></li><li><code>git dis</code> is <code>git diff --staged</code></li><li><code>git s</code> is <code>git status --short</code></li><li><code>git ss</code> is <code>git status</code> (the longer one)</li></ul><p>If you&rsquo;re intrigued, you can find my full config along with others in my <a href=https://github.com/LukasKnuth/dotfiles>dotfiles</a> repository.</p></div></article><footer id=footer><div class=footer-left>Copyright &copy; 2024 Lukas Knuth</div><div class=footer-right><nav><ul><li><a href=/writings>Writings</a></li><li><a href=/about>About</a></li><li><a href=/cv>CV</a></li><li><a href=/imprint>Imprint</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script></html>